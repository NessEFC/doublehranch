<%= render 'layouts/nav' %>
<div class="preferences">
  <div class="preferences-stepper">
    <%= link_to edit_user_profile_path(current_user, state: 'general') do %>
      <%= image_tag("yellow-arrowhead.svg", class: params[:state].in?([nil, "general"]) ? "active" : "") %>
    <% end %>
    <%= link_to edit_user_profile_path(current_user, state: 'photo') do %>
      <%= image_tag("dark-green-arrowhead.svg", class: params[:state] == "photo" ? "active" : "") %>
    <% end %>
    <%= link_to edit_user_profile_path(current_user, state: 'password') do %>
      <%= image_tag("medium-green-arrowhead.svg", class: params[:state] == "password" ? "active" : "") %>
    <% end %>
    <%= link_to edit_user_profile_path(current_user, state: 'privacy') do %>
      <%= image_tag("light-green-arrowhead.svg", class: params[:state] == "privacy" ? "active" : "") %>
    <% end %>
  </div>

  <div class="preferences-form w-75 mx-auto">
    <% if params[:state] == 'privacy' %>
      <%= render "privacy" %>
    <% elsif params[:state] == 'photo' %>
      <%= render "photo" %>
    <% elsif params[:state] == 'password' %>
      <%= render "password" %>
    <% else params[:state] == 'general' %>
      <%= render "general" %>
    <% end %>
  </div>

  <div class="preferences-navigation-footer">
    <%= link_to "Cancel", root_path, {class: 'btn btn-danger btn-cancel', method: 'get'} %>
    <%#= link_to "Skip to Privacy", edit_user_profile_path(@user, state: 'privacy'), {class: 'btn btn-primary btn-skip', method: 'get'} %>
  </div>

</div>
